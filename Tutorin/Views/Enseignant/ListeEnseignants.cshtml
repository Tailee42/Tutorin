@using System.Security.Claims;
@model Tutorin.ViewModels.EnseignantViewModel
@{
    Layout = "_LayoutDuSite";
    ViewBag.Title = "Liste des enseignants";
}

@{
    bool authentifie = User.Identity.IsAuthenticated;
    string role = "";
    if (authentifie)
    {
        role = User.FindFirst(ClaimTypes.Role).Value;
    }
    
}

@section Menu {


    <a href ="/Enseignant/ListeVisiteur">Les Enseignants</a>
    <a href="/Prestation/ListeVisiteur">Les Prestations</a>

    @if (authentifie)
    {
        <a href="/@role/TableauDeBord/">Tableau de Bord</a>
        <a href="/login/Deconnexion">Déconnexion</a>
    }else
    {
        <a href="/login/">Connexion</a>
    }
    
}



<h1>Liste des enseignants : </h1>
<table border="1">

    <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Identifiant</th>
        <th>Matière</th>
        <th>Niveau</th>
        <th>Action</th>
     
    </tr>

    @foreach (Tutorin.Models.Enseignant enseignant in Model.ListeEnseignants)
    {
            <tr>
                <td>@enseignant.Utilisateur.Nom</td>
                <td>@enseignant.Utilisateur.Prenom</td>
                <td>@enseignant.Utilisateur.Identifiant</td>
                <td>@enseignant.Matiere</td>
                <td>@enseignant.Niveaux</td>
                <td>
                    <a href="/Enseignant/modifier?enseignantId=@enseignant.Id">Modifier</a>
                    <a href="/Enseignant/supprimer?enseignantId=@enseignant.Id">Supprimer</a>
                <a href="/ContenuPedagogique/ajouter?enseignantId=@enseignant.Id">Créer un cours</a>
                </td>
            </tr>
    }
</table>

<br />
<a href="/Enseignant/ajouter">Ajouter un enseignant</a>

